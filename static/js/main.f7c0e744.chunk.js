(this["webpackJsonpuber-giphy"]=this["webpackJsonpuber-giphy"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.04e09dee.svg"},function(e,t,n){e.exports=n.p+"static/media/single-column.e7d93e18.svg"},function(e,t,n){e.exports=n.p+"static/media/three-columns.ba5f9835.svg"},function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(5),r=n.n(i),o=(n(14),n(1)),s=(n(15),n(6)),u=n.n(s),l=n(7),m=n.n(l),f=n(8),g=n.n(f),b=(n(16),function(e){var t=e.data,n=3===e.columns?t.images.fixed_height.webp:t.images.fixed_width.webp;return c.a.createElement("div",{className:"ug-image-box"},c.a.createElement("h5",{className:"ug-image-box__title"},t.title),c.a.createElement("img",{className:"ug-image-box__img",src:n,alt:t.title}))}),d=(n(17),function(e){var t=e.className,n=e.img,a=e.text,i=e.onClick;return c.a.createElement("img",{className:"ug-icon-button ".concat(t),src:n,alt:a,onClick:i})}),v=(n(18),function(e){var t=e.children;return c.a.createElement("section",{className:"ug-layout-wrapper"},t)}),h=(n(19),function(e){var t=e.columns,n=void 0===t?1:t,a=e.items,i=void 0===a?[]:a,r=e.isPristine,o=void 0===r||r,s=e.isLoading,u=void 0!==s&&s,l=!!i.length;return c.a.createElement("ul",{className:"\n        ug-list\n        ".concat(3===n?"ug-list--three-column":"ug-list--single-column","\n        ").concat(l?"":"ug-list--no-results","\n     "),"data-testid":"ug-list"},l?i.map((function(e){return c.a.createElement("li",{className:"ug-list__item",key:e.id},c.a.createElement(b,{data:e,columns:n}))})):o?c.a.createElement("h2",{className:"ug-list__item--is-pristine"},"Uber Giphy :) ",c.a.createElement("span",{className:"ug-list__item-footnote"},"by kavare")):u?c.a.createElement("h2",{className:"ug-list__item--is-loading"},"Loading......"):c.a.createElement("h2",{className:"ug-list__item--no-results"},"No results here :( How about trying new keywords?"))}),p=(n(20),function(e){var t=e.children;return c.a.createElement("header",{className:"ug-navbar","data-testid":"ug-navbar"},t)}),E=(n(21),function(e){var t=e.className,n=e.keywords,a=e.updateKeywords;return c.a.createElement("div",{className:"ug-searchbar ".concat(t)},c.a.createElement("input",{className:"ug-searchbar__input",type:"text",value:n,placeholder:"Search Giphy...",onChange:a}))}),j={limit:10,offset:0,rating:"G",lang:"en"},O=function(e){for(var t="".concat("https://api.giphy.com/v1/gifs/search","?api_key=").concat("CdRKiCMbTnt9CkZTZ0lGukSczk6iT4Z6"),n=Object.assign({},j,e),a=0,c=Object.entries(n);a<c.length;a++){var i=c[a],r=Object(o.a)(i,2),s=r[0],u=r[1];t+="&".concat(s,"=").concat(u)}return t},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement;return window.innerHeight+e.scrollTop>=e.offsetHeight-100},_=n(2),k=n.n(_),y=function(e,t){var n,a,c;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=O({q:e,offset:t}),i.prev=1,i.next=4,k.a.awrap(fetch(n));case 4:return a=i.sent,i.next=7,k.a.awrap(a.json());case 7:return c=i.sent,i.abrupt("return",c);case 11:return i.prev=11,i.t0=i.catch(1),console.log(i.t0),i.abrupt("return",[]);case 15:case"end":return i.stop()}}),null,null,[[1,11]])},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Object(a.useState)(e),c=Object(o.a)(n,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){r(e)}),t);return function(){return clearTimeout(n)}})),i},x=n(3),C=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),u=s[0],l=s[1],m=Object(a.useState)({count:0,total:0,offset:0}),f=Object(o.a)(m,2),g=f[0],b=f[1],d=Object(a.useState)([]),v=Object(o.a)(d,2),h=v[0],p=v[1],E=Object(a.useCallback)((function(){return e(u,g.offset+g.count)}),[u,g,e]),j=Object(a.useCallback)((function(){!c&&w()&&i(!0)}),[c]);return Object(a.useEffect)((function(){return window.addEventListener("scroll",j),function(){return window.removeEventListener("scroll",j)}}),[j]),Object(a.useEffect)((function(){b({count:0,total:0,offset:0}),p([]),i(!0)}),[u]),Object(a.useEffect)((function(){c&&E().then((function(e){var t=e.data,n=e.pagination;b(n),p((function(e){return[].concat(Object(x.a)(e),Object(x.a)(t))})),i(!1)}))}),[c,E]),[h,c,l]};var S=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),s=Object(o.a)(r,2),l=s[0],f=s[1],b=C(y),j=Object(o.a)(b,3),O=j[0],w=j[1],_=j[2],k=N(n,500),x=Object(a.useCallback)(_),S=Object(a.useState)(1),L=Object(o.a)(S,2),T=L[0],G=L[1];return Object(a.useEffect)((function(){void 0!==k&&x(k)}),[k,x]),c.a.createElement("div",{className:"ug-app"},c.a.createElement(p,null,c.a.createElement("img",{className:"ug-navbar__icon",src:u.a,alt:"Uber Giphy",title:"Click to resume to initial state",onClick:function(e){i(""),f(!0)}}),c.a.createElement(E,{className:"ug-navbar__search",keywords:n,updateKeywords:function(e){var t=e.target.value;i(t),f(!1)}}),c.a.createElement(d,{className:1===T?"ug-icon-button--is-active":"",img:m.a,text:"Single Column Layout",onClick:function(){return G(1)}}),c.a.createElement(d,{className:3===T?"ug-icon-button--is-active":"",img:g.a,text:"Three Columns Layout",onClick:function(){return G(3)}})),c.a.createElement(v,null,c.a.createElement(h,{columns:T,items:O,isPristine:l,isLoading:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.f7c0e744.chunk.js.map