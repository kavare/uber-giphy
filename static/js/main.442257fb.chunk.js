(this["webpackJsonpuber-giphy"]=this["webpackJsonpuber-giphy"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.04e09dee.svg"},function(e,t,a){e.exports=a.p+"static/media/single-column.e7d93e18.svg"},function(e,t,a){e.exports=a.p+"static/media/three-columns.ba5f9835.svg"},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(5),r=a.n(i),s=(a(14),a(1)),l=(a(15),a(6)),o=a.n(l),u=a(7),m=a.n(u),g=a(8),f=a.n(g),b=(a(16),function(e){var t=e.data,a=(e.columns,t.images.fixed_width.url),n=t.images.fixed_width.webp;return c.a.createElement("div",{className:"ug-image-box","data-testid":"ug-image-box"},c.a.createElement("h5",{className:"ug-image-box__title"},t.title),c.a.createElement("picture",null,c.a.createElement("source",{type:"image/webp",srcSet:n}),c.a.createElement("img",{className:"ug-image-box__img",src:a,alt:t.title})))}),d=(a(17),function(e){var t=e.className,a=e.img,n=e.text,i=e.onClick;return c.a.createElement("img",{className:"ug-icon-button ".concat(t),"data-testid":"ug-icon-button",src:a,alt:n,onClick:i})}),h=(a(18),function(e){var t=e.children;return c.a.createElement("section",{className:"ug-layout","data-testid":"ug-layout"},t)}),v=(a(19),function(e){var t=e.columns,a=void 0===t?1:t,n=e.items,i=void 0===n?[]:n,r=e.isPristine,s=void 0===r||r,l=e.isLoading,o=void 0!==l&&l,u=!!i.length,m=c.a.createElement("li",{className:"ug-list__item ug-list__item--is-pristine"},c.a.createElement("h2",{className:"ug-list__item-title"},"Uber Giphy"),c.a.createElement("h4",{className:"ug-list__item-subtitle"},"crafted by kavare",c.a.createElement("span",{role:"img","aria-label":"love"}," \ud83d\ude0a "))),g=c.a.createElement("li",{className:"ug-list__item ug-list__item--no-results"},c.a.createElement("h2",{className:"ug-list__item-title"},"No results here",c.a.createElement("span",{role:"img","aria-label":"Try again"}," \ud83d\udc36 "),c.a.createElement("br",null),"Let's try again!!")),f=c.a.createElement("li",{className:"ug-list__item ug-list__item--no-results"},c.a.createElement("h2",{className:"ug-list__item-title"},"Launching...",c.a.createElement("span",{role:"img","aria-label":"Launching"}," \ud83d\ude80 ")));return c.a.createElement("ul",{className:"\n        ug-list\n        ".concat(3===a?"ug-list--three-column":"ug-list--single-column","\n        ").concat(u?"":"ug-list--no-results","\n        ").concat(s?"ug-list--is-pristine":"","\n     "),"data-testid":"ug-list"},s?m:u?i.map((function(e){return c.a.createElement("li",{className:"ug-list__item",key:e.id},c.a.createElement(b,{key:e.id,data:e,columns:a}))})):o?f:g)}),p=(a(20),function(e){var t=e.children;return c.a.createElement("header",{className:"ug-navbar","data-testid":"ug-navbar"},t)}),E=(a(21),function(e){var t=e.className,a=e.keywords,n=e.updateKeywords;return c.a.createElement("div",{className:"ug-searchbar ".concat(t),"data-testid":"ug-searchbar"},c.a.createElement("input",{className:"ug-searchbar__input","data-testid":"ug-searchbar__input",type:"text",value:a,placeholder:"Search Giphy...",onChange:n}))}),_="https://api.giphy.com/v1/gifs/search",j="CdRKiCMbTnt9CkZTZ0lGukSczk6iT4Z6",O={limit:24,offset:0,rating:"G",lang:"en"},w=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(_,"?api_key=").concat(j),a=Object.assign({},O,e),n=0,c=Object.entries(a);n<c.length;n++){var i=c[n],r=Object(s.a)(i,2),l=r[0],o=r[1];t+="&".concat(l,"=").concat(o)}return t},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=30,a=window.innerHeight+window.scrollY,n=e.offsetHeight-t;return a>=n},N=a(2),k=a.n(N),x=function(e,t){var a,n,c;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=w({q:e,offset:t}),i.prev=1,i.next=4,k.a.awrap(fetch(a));case 4:return n=i.sent,i.next=7,k.a.awrap(n.json());case 7:return c=i.sent,i.abrupt("return",c);case 11:throw i.prev=11,i.t0=i.catch(1),Error(i.t0);case 14:case"end":return i.stop()}}),null,null,[[1,11]])},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=Object(n.useState)(e),c=Object(s.a)(a,2),i=c[0],r=c[1],l=Object(n.useRef)();return Object(n.useEffect)((function(){return l.current=setTimeout((function(){r(e)}),t),function(){return clearTimeout(l.current)}})),i},S=a(3),L=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),l=Object(s.a)(r,2),o=l[0],u=l[1],m=Object(n.useState)(""),g=Object(s.a)(m,2),f=g[0],b=g[1],d=Object(n.useState)({count:0,total_count:0,offset:0}),h=Object(s.a)(d,2),v=h[0],p=h[1],E=Object(n.useState)([]),_=Object(s.a)(E,2),j=_[0],O=_[1],w=Object(n.useCallback)((function(){return e(f,v.offset+v.count)}),[f,v,e]),N=Object(n.useCallback)((function(){!c&&y()&&0!==j.length&&i(!0)}),[c,j]);return Object(n.useLayoutEffect)((function(){return window.addEventListener("scroll",N),function(){return window.removeEventListener("scroll",N)}}),[N]),Object(n.useEffect)((function(){var e=!!f.length;p({count:0,total_count:0,offset:0}),O([]),i(e)}),[f]),Object(n.useEffect)((function(){c&&(0===j.length||v.total_count!==j.length?w().then((function(e){var t=e.data,a=e.pagination;Array.isArray(t)||(t=[]),p(a),O((function(e){return[].concat(Object(S.a)(e),Object(S.a)(t))})),i(!1),u(!1)})).catch((function(e){p({count:0,total_count:0,offset:0}),O([]),i(!1),u(!0)})):i(!1))}),[c]),[j,c,o,b]};var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(!0),l=Object(s.a)(r,2),u=l[0],g=l[1],b=L(x),_=Object(s.a)(b,4),j=_[0],O=_[1],w=_[2],y=_[3],N=C(a,500),k=Object(n.useCallback)(y),S=Object(n.useState)(1),T=Object(s.a)(S,2),G=T[0],K=T[1];Object(n.useEffect)((function(){void 0!==N&&0!==N.length&&(k(N),g(!1))}),[N,k]);var Z=function(e){return function(t){window.scrollTo(0,0),K(e)}};return c.a.createElement("div",{className:"ug-app"},c.a.createElement(p,null,c.a.createElement("img",{className:"ug-navbar__icon",src:o.a,alt:"Uber Giphy",title:"Click to resume to initial state",onClick:function(e){i(""),g(!0)}}),c.a.createElement(E,{className:"ug-navbar__search",keywords:a,updateKeywords:function(e){var t=e.target.value;i(t),0===t.length&&g(!0)}}),c.a.createElement("div",{className:"ug-navbar__button-group"},c.a.createElement(d,{className:"\n              ug-navbar__button\n              ".concat(1===G?"ug-icon-button--is-active":"","\n            "),img:m.a,text:"Single Column Layout",onClick:Z(1)}),c.a.createElement(d,{className:"\n              ug-navbar__button\n              ".concat(3===G?"ug-icon-button--is-active":"","\n            "),img:f.a,text:"Three Columns Layout",onClick:Z(3)}))),c.a.createElement(h,null,w&&c.a.createElement("h4",{className:"ug-message ug-message--is-error"},c.a.createElement("span",{role:"img","aria-label":"lost connection"}," \ud83d\udd75 "),"You might lose the internet connection, please try again"),O&&c.a.createElement("h4",{className:"ug-message ug-message--is-success"},c.a.createElement("span",{role:"img","aria-label":"loading"}," \u23f3 "),"Loading..."),c.a.createElement(v,{columns:G,items:j,isPristine:u,isLoading:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.442257fb.chunk.js.map