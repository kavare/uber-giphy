(this["webpackJsonpuber-giphy"]=this["webpackJsonpuber-giphy"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo.04e09dee.svg"},function(e,t,a){e.exports=a.p+"static/media/single-column.e7d93e18.svg"},function(e,t,a){e.exports=a.p+"static/media/three-columns.ba5f9835.svg"},function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(5),r=a.n(i),s=(a(14),a(1)),o=(a(15),a(6)),u=a.n(o),l=a(7),m=a.n(l),g=a(8),f=a.n(g),d=(a(16),function(e){var t=e.data,a=(e.columns,t.images.fixed_width.url),n=t.images.fixed_width.webp;return c.a.createElement("div",{className:"ug-image-box","data-testid":"ug-image-box"},c.a.createElement("h5",{className:"ug-image-box__title"},t.title),c.a.createElement("picture",null,c.a.createElement("source",{type:"image/webp",srcSet:n}),c.a.createElement("img",{className:"ug-image-box__img",src:a,alt:t.title})))}),b=(a(17),function(e){var t=e.className,a=e.img,n=e.text,i=e.onClick;return c.a.createElement("img",{className:"ug-icon-button ".concat(t),"data-testid":"ug-icon-button",src:a,alt:n,onClick:i})}),h=(a(18),function(e){var t=e.children;return c.a.createElement("section",{className:"ug-layout","data-testid":"ug-layout"},t)}),v=(a(19),function(e){var t=e.columns,a=void 0===t?1:t,n=e.items,i=void 0===n?[]:n,r=e.isPristine,s=void 0===r||r,o=e.isLoading,u=void 0!==o&&o,l=!!i.length,m=c.a.createElement("li",{className:"ug-list__item ug-list__item--is-pristine"},c.a.createElement("h2",{className:"ug-list__item-title"},"Uber Giphy :)"),c.a.createElement("h4",{className:"ug-list__item-subtitle"},"crafted by kavare \ud83d\ude0a")),g=c.a.createElement("li",{className:"ug-list__item ug-list__item--is-loading"},c.a.createElement("h2",{className:"ug-list__item-title"},"Loading......")),f=c.a.createElement("li",{className:"ug-list__item ug-list__item--no-results"},c.a.createElement("h2",{className:"ug-list__item-title"},"No results here :( How about trying new keywords?"));return c.a.createElement("ul",{className:"\n        ug-list\n        ".concat(3===a?"ug-list--three-column":"ug-list--single-column","\n        ").concat(l?"":"ug-list--no-results","\n        ").concat(u?"ug-list--is-loading":"","\n        ").concat(s?"ug-list--is-pristine":"","\n     "),"data-testid":"ug-list"},l?i.map((function(e){return c.a.createElement("li",{className:"ug-list__item",key:e.id},c.a.createElement(d,{key:e.id,data:e,columns:a}))})):s?m:u?g:f)}),p=(a(20),function(e){var t=e.children;return c.a.createElement("header",{className:"ug-navbar","data-testid":"ug-navbar"},t)}),E=(a(21),function(e){var t=e.className,a=e.keywords,n=e.updateKeywords;return c.a.createElement("div",{className:"ug-searchbar ".concat(t),"data-testid":"ug-searchbar"},c.a.createElement("input",{className:"ug-searchbar__input","data-testid":"ug-searchbar__input",type:"text",value:a,placeholder:"Search Giphy...",onChange:n}))}),_="https://api.giphy.com/v1/gifs/search",j="CdRKiCMbTnt9CkZTZ0lGukSczk6iT4Z6",O={limit:10,offset:0,rating:"G",lang:"en"},w=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(_,"?api_key=").concat(j),a=Object.assign({},O,e),n=0,c=Object.entries(a);n<c.length;n++){var i=c[n],r=Object(s.a)(i,2),o=r[0],u=r[1];t+="&".concat(o,"=").concat(u)}return t},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=50,a=window.innerHeight+e.scrollTop,n=e.offsetHeight-t;return a>=n},N=a(2),k=a.n(N),x=function(e,t){var a,n,c;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=w({q:e,offset:t}),i.prev=1,i.next=4,k.a.awrap(fetch(a));case 4:return n=i.sent,i.next=7,k.a.awrap(n.json());case 7:return c=i.sent,i.abrupt("return",c);case 11:return i.prev=11,i.t0=i.catch(1),console.log(i.t0),i.abrupt("return",[]);case 15:case"end":return i.stop()}}),null,null,[[1,11]])},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,a=Object(n.useState)(e),c=Object(s.a)(a,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){return clearTimeout(a)}})),i},S=a(3),L=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1],m=Object(n.useState)({count:0,total:0,offset:0}),g=Object(s.a)(m,2),f=g[0],d=g[1],b=Object(n.useState)([]),h=Object(s.a)(b,2),v=h[0],p=h[1],E=Object(n.useCallback)((function(){return e(u,f.offset+f.count)}),[u,f,e]),_=Object(n.useCallback)((function(){!c&&y()&&i(!0)}),[c]);return Object(n.useLayoutEffect)((function(){return window.addEventListener("scroll",_),function(){return window.removeEventListener("scroll",_)}}),[_]),Object(n.useEffect)((function(){var e=!!u.length;d({count:0,total:0,offset:0}),p([]),i(e)}),[u]),Object(n.useEffect)((function(){c&&E().then((function(e){var t=e.data,a=e.pagination;d(a),p((function(e){return[].concat(Object(S.a)(e),Object(S.a)(t))})),i(!1)})).catch((function(e){return console.log("maybe here?"),d({count:0,total:0,offset:0}),p([]),i(!1),[]}))}),[c]),[v,c,l]};var T=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(!0),o=Object(s.a)(r,2),l=o[0],g=o[1],d=L(x),_=Object(s.a)(d,3),j=_[0],O=_[1],w=_[2],y=C(a,500),N=Object(n.useCallback)(w),k=Object(n.useState)(1),S=Object(s.a)(k,2),T=S[0],G=S[1];return Object(n.useEffect)((function(){void 0!==y&&N(y)}),[y,N]),c.a.createElement("div",{className:"ug-app"},c.a.createElement(p,null,c.a.createElement("img",{className:"ug-navbar__icon",src:u.a,alt:"Uber Giphy",title:"Click to resume to initial state",onClick:function(e){i(""),g(!0)}}),c.a.createElement(E,{className:"ug-navbar__search",keywords:a,updateKeywords:function(e){var t=e.target.value;i(t),g(!1)}}),c.a.createElement(b,{className:1===T?"ug-icon-button--is-active":"",img:m.a,text:"Single Column Layout",onClick:function(){return G(1)}}),c.a.createElement(b,{className:3===T?"ug-icon-button--is-active":"",img:f.a,text:"Three Columns Layout",onClick:function(){return G(3)}})),c.a.createElement(h,null,c.a.createElement(v,{columns:T,items:j,isPristine:l,isLoading:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.5a1ec6c4.chunk.js.map